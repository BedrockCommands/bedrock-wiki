import{_ as o,e as r,t as n,C as e,Q as s,D as t,d as p,E as i}from"./chunks/framework.CuLWBCQE.js";const c="/assets/images/commands/derangement-function/MPDVisualRep.mp4",E=JSON.parse('{"title":"Multiplayer Position Derangement","description":"Randomly relocate all selected targets among each other, ensuring none remain in their original position.","frontmatter":{"title":"Multiplayer Position Derangement","category":"Functions","mention":["BedrockCommands","zheaEvyline","jeanmajid"],"description":"Randomly relocate all selected targets among each other, ensuring none remain in their original position."},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[]},{"level":2,"title":"Steps Involved in This Method","slug":"steps-involved-in-this-method","link":"#steps-involved-in-this-method","children":[]},{"level":2,"title":"Functions","slug":"functions","link":"#functions","children":[]},{"level":2,"title":"Tick JSON","slug":"tick-json","link":"#tick-json","children":[]},{"level":2,"title":"Download Function Pack","slug":"download-function-pack","link":"#download-function-pack","children":[]}],"relativePath":"commands/derangement-function.md","filePath":"commands/derangement-function.md"}'),d={name:"commands/derangement-function.md"},h=s('<h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p><a href="https://discord.gg/SYstTYx5G5" target="_blank" rel="noreferrer">Sourced Bedrock Commands Community Discord</a></p><p>This function, created by @ZheaEvyline, allows you to randomly relocate all selected targets among each other, ensuring no target remains in its original position.</p><p>A derangement is a permutation of &#39;N&#39; elements where no element appears in its original position.</p><p>For example, if Player1 was at <code>0,0,1</code>, Player2 at <code>0,0,2</code>, and Player3 at <code>0,0,3</code>, Player1 can only be reloc cated to <code>0,0,2</code> or <code>0,0,3</code>. The same rule applies to all other players.</p><hr><p><strong>Key Features of this Function Pack:</strong></p><ol><li>Guaranteed derangement in a single game-tick.</li><li>Minimal number of iterations (repetitions/loops).</li></ol><p>To derange the positions of 100 targets, this function pack requires only 4-6 iterations, executing a total of 7 commands for the initiation, and 7 per iteration.</p><hr><p>The number of iterations increases proportionally with the number of elements.</p><p>For reference, here is the number of derangements possible for elements ranging from 1 to 10:</p><table tabindex="0"><thead><tr><th>Number of Elements (N)</th><th>Number of Derangements Possible (D(N))</th></tr></thead><tbody><tr><td>1</td><td>0</td></tr><tr><td>2</td><td>1</td></tr><tr><td>3</td><td>2</td></tr><tr><td>4</td><td>9</td></tr><tr><td>5</td><td>44</td></tr><tr><td>6</td><td>265</td></tr><tr><td>7</td><td>1,854</td></tr><tr><td>8</td><td>14,833</td></tr><tr><td>9</td><td>133,496</td></tr><tr><td>10</td><td>1,334,961</td></tr></tbody></table><p>The number of derangements increases rapidly as the number of elements grows.</p><h2 id="steps-involved-in-this-method" tabindex="-1">Steps Involved in This Method <a class="header-anchor" href="#steps-involved-in-this-method" aria-label="Permalink to &quot;Steps Involved in This Method&quot;">​</a></h2><ol><li>Relocate each target to the position of a random one (other than its original position).</li><li>If multiple targets are relocated to the same position, assign it to one of them and repeat the process for the remaining targets.</li><li>If final target is left with no available position except its original, relocate the target in it&#39;s current position to it&#39;s original position, assigning the now freed position to the final target.</li></ol><p><strong>Example Visualization:</strong></p><video width="1920" height="1080" controls><source src="'+c+'" type="video/mp4"></video><h2 id="functions" tabindex="-1">Functions <a class="header-anchor" href="#functions" aria-label="Permalink to &quot;Functions&quot;">​</a></h2><p>An ID system is required to index the position of all targets from 1 to N, allowing us to track the original position of each target. We will run this file in the <code>tick.json</code> to automatically assign the IDs.</p>',20),u=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Register New Players to the ID Objective</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players add @e [name=&quot;Fake Player&quot;] id 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Create New ID</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if entity @e [name=&quot;Fake Player&quot;, scores={id=0}] run scoreboard players add Total id 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Assign the New ID</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation @r [type=armor_stand, name=&quot;Fake Player&quot;, scores={id=0}] id = Total id</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><hr><p>This is the function you run (once) each time you need to derange the positions of all targets:</p><ul><li><code>/function events/player/derange_position/initiate</code></li></ul>`,4),m=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Summon Position Marker</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute at @a run summon armor_stand &quot;Position Marker&quot; ~~~</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Save Original Position to Ignore</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @a at @s run scoreboard players operation @e [type=armor_stand, name=&quot;Position Marker&quot;, r=0.01, c=1] id = @s id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Initiate Position Derangement Process</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">function events/player/derange_position/process</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Run Process One Last Time if Final Player Has a Valid Position Available</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score NonAllocatedPlayers count matches 1 unless score @a [tag=!posAllocated, c=1] id = @e [type=armor_stand, name=&quot;Position Marker&quot;, c=1] id run function events/player/derange_position/process</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Resolve Collision if Final Player Has No Valid Position Available</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### relocate the allocated player to their colliding player&#39;s original position to free their position for the colliding player</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @a [tag=!posAllocated] at @s run tp @r [tag=posAllocated, r=0.01] @e [type=armor_stand, name=&quot;Position Marker&quot;, c=1]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### remove colliding player&#39;s position marker and tag</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kill @e [type=armor_stand, name=&quot;Position Marker&quot;]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tag @a remove posAllocated</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>In case a single target is left with no available position except its original, the final 3 commands will resolve the collision. We call it a collision because when this occurs, the target will be at the allocated position of another target.</p><hr><p>The actual randomized derangement process will be performed by this function below:</p>`,4),b=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Move to a Different Position</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @a [tag=!posAllocated] at @s run tp @s @r [type=armor_stand, name=&quot;Position Marker&quot;, rm=0.01]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Move Again if Returned to Original Position</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @a [tag=!posAllocated] at @s if score @s id = @e [type=armor_stand, name=&quot;Position Marker&quot;, r=0.01, c=1] id run tp @s @r [type=armor_stand, name=&quot;Position Marker&quot;, rm=0.01]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Add Tag to Ignore Players with a Position Allocated</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @e [type=armor_stand, name=&quot;Position Marker&quot;] at @s run tag @a [tag=!posAllocated, r=0.01, c=1] add posAllocated</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Remove Allocated Position Markers</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @a [tag=posAllocated] at @s run kill @e [type=armor_stand, name=&quot;Position Marker&quot;, r=0.01, c=1]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ENTITY COUNTER</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Get Player Count of Players Without a Position Allocated</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players set * count 0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @a [tag=!posAllocated] run scoreboard players add NonAllocatedPlayers count 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Loop Function if 2+ Players Are Not Allocated a Position</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score NonAllocatedPlayers count matches 2.. run function events/player/derange_position/process</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><hr><p>Now, for our functions to actually work, we will need to add the following objectives on our world:</p>`,3),k=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard objectives add id dummy</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard objectives add count dummy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><hr><p>If you wish to add the objectives automatically as soon as you load the world, you may create the function file below:</p>`,3),g=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Initialisation</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### add objective</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard objectives add world dummy</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### register to objective</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players add initialised world 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Commands to Execute</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score initialised world matches 0 run function scoreboards/objective/add_all</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Mark As Initialised</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players set initialised world 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="tick-json" tabindex="-1">Tick JSON <a class="header-anchor" href="#tick-json" aria-label="Permalink to &quot;Tick JSON&quot;">​</a></h2><p>Finally, create your <code>tick.json</code> file:</p>`,3),y=s(`<div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;values&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;events/world/on_initialise&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;scoreboards/player/id&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="download-function-pack" tabindex="-1">Download Function Pack <a class="header-anchor" href="#download-function-pack" aria-label="Permalink to &quot;Download Function Pack&quot;">​</a></h2><p>For convenience, you can download the <code>.mcpack</code> for the Function Pack here:</p>`,3),_=s('<p>Simply activate the pack on your world and run the following command in multiplayer:</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/function events/player/derange_position/initiate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>',2);function f(v,F,A,P,C,D){const a=t("CodeHeader"),l=t("Card");return p(),r("div",null,[h,n(a,null,{default:e(()=>[i("BP/functions/scoreboards/player/id.mcfunction")]),_:1}),u,n(a,null,{default:e(()=>[i("BP/functions/events/player/derange_position/initiate.mcfunction")]),_:1}),m,n(a,null,{default:e(()=>[i("BP/functions/events/player/derange_position/process.mcfunction")]),_:1}),b,n(a,null,{default:e(()=>[i("BP/functions/scoreboards/objective/add_all.mcfunction")]),_:1}),k,n(a,null,{default:e(()=>[i("BP/functions/events/world/on_initialise.mcfunction")]),_:1}),g,n(a,null,{default:e(()=>[i("BP/functions/tick.json")]),_:1}),y,n(l,{image:"/assets/images/commands/BClogo.png",title:"Download",link:"https://github.com/BedrockCommands/developer-packs/releases/download/mpd/Multiplayer_Position_Derangement.FP.mcpack"}),_])}const w=o(d,[["render",f]]);export{E as __pageData,w as default};
