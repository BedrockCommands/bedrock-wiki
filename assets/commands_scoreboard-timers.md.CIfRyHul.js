import{_ as l}from"./chunks/8.CHOiWsAP.js";import{_ as r}from"./chunks/7.58FQPVLC.js";import{_ as o,E as c,j as p,k as d,a5 as s,A as n,I as i,J as t}from"./chunks/framework.3Z9w-w8R.js";const C=JSON.parse('{"title":"Scoreboard Timers","description":"Create world timers or entity timers using scoreboards.","frontmatter":{"title":"Scoreboard Timers","category":"Scoreboard Systems","mentions":["BedrockCommands","zheaEvyline"],"nav_order":5,"description":"Create world timers or entity timers using scoreboards."},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[]},{"level":2,"title":"Setup","slug":"setup","link":"#setup","children":[]},{"level":2,"title":"System","slug":"system","link":"#system","children":[]},{"level":2,"title":"Explanation","slug":"explanation","link":"#explanation","children":[]},{"level":2,"title":"Defining Events with Limited Occurances","slug":"defining-events-with-limited-occurances","link":"#defining-events-with-limited-occurances","children":[]},{"level":2,"title":"Executing Commands During Intervals","slug":"executing-commands-during-intervals","link":"#executing-commands-during-intervals","children":[]},{"level":2,"title":"Entity Timers","slug":"entity-timers","link":"#entity-timers","children":[]}],"relativePath":"commands/scoreboard-timers.md","filePath":"commands/scoreboard-timers.md"}'),h={name:"commands/scoreboard-timers.md"};function m(u,e,k,b,y,g){const a=c("CodeHeader");return d(),p("div",null,[e[3]||(e[3]=s('<h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p><a href="https://discord.gg/SYstTYx5G5" target="_blank" rel="noreferrer">Sourced by the Bedrock Commands Community (BCC) Discord</a></p><p>This system allows you to run your desired commands at precise intervals, allowing for customizable delays as per your requirements.</p><p><strong>Some Examples:</strong></p><ul><li>Sending a message in chat every 2 hours.</li><li>Running a &#39;lag clear&#39; function every 10 minutes.</li><li>Effecting players with &#39;speed&#39; every 30 seconds.</li></ul><p>This system is particularly useful for managing multiple timers in your world. When working with command blocks, you may use the <a href="/commands/intro-to-command-blocks#command-block-tick-delay">Tick Delay</a> option to delay the time taken for your commands to run. However, when working with functions, you will need to use a system like this.</p><p>It is recommended to use this system while working with command blocks, as well if you wish to run all your world-timers in sync with one another, i.e., with the same start time.</p><h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;Setup&quot;">​</a></h2><p><em>To be typed in chat:</em></p>',9)),n(a),e[4]||(e[4]=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/scoreboard objectives add wiki:ticks dummy</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/scoreboard objectives add wiki:events dummy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>After creating these objectives, the next step is to define the interval for each repeating event using the <code>ticks</code> objective.</p><p>To do that, first, you must know that 1 second is approximately 20 game-ticks in Minecraft. Based on this knowledge, you will need to do some basic calculations to obtain the equivalent ticks for each interval you want to define.</p>`,3)),n(a),e[5]||(e[5]=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2h = 20t × 60s × 60m × 2h = 144000t</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/scoreboard players set .2h wiki:ticks 144000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 10m = 20t × 60s × 10m = 12000t</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/scoreboard players set .10m wiki:ticks 12000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 30s = 20t × 30s = 600t</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/scoreboard players set .30s wiki:ticks 600</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>With the scoreboard data set, we can now operate our timers based on the intervals defined.</p><h2 id="system" tabindex="-1">System <a class="header-anchor" href="#system" aria-label="Permalink to &quot;System&quot;">​</a></h2>`,3)),n(a,null,{default:i(()=>e[0]||(e[0]=[t("BP/functions/wiki/scoreboard/world_timer.mcfunction")])),_:1}),e[6]||(e[6]=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## World Timer/Clock</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### Increment +1 tick</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players add .Timer wiki:ticks 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### Apply current ticks passed to all events</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation * wiki:events = .Timer wiki:ticks</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Chat Message (every 2h)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation .ChatMessage wiki:events %= .2h wiki:ticks</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .ChatMessage wiki:events matches 0 run say Technoblade never dies!</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Lag Clear (every 10m)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation .LagClear wiki:events %= .10m wiki:ticks</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .LagClear wiki:events matches 0 run function clear_lag</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Speed Effect (every 30s)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation .SpeedEffect wiki:events %= .30s wiki:ticks</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .SpeedEffect wiki:events matches 0 run effect @a speed 10 2 true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="`+l+'" alt="Chain of 8 Command Blocks"></p><p>Here, we have taken 3 examples to show how to implement them, but you can add any timer you prefer and as many as you need.</p><p>Just make sure to follow the given order and properly apply the <code>/execute if score</code> condition as shown for your desired commands.</p><h2 id="explanation" tabindex="-1">Explanation <a class="header-anchor" href="#explanation" aria-label="Permalink to &quot;Explanation&quot;">​</a></h2><p><strong><code>wiki:events</code></strong> — On this objective, we label all the repeating events we want on our world:</p><ul><li><code>.ChatMessage</code></li><li><code>.LagClear</code></li><li><code>.SpeedEffect</code></li></ul><p><em>Note: All 3 are score holders in the objective.</em></p><p><strong><code>wiki:ticks</code></strong> — On this objective, we define all the intervals for our events and also run our scoreboard timer:</p><ul><li><code>.2h</code> interval (static score: 144000)</li><li><code>.10m</code> interval (static score: 12000)</li><li><code>.30s</code> interval (static score: 600)</li><li><code>.Timer</code> clock (variable score: n+1)</li></ul><p><em>Note: All 4 are score holders in the objective.</em></p><p><strong>Command 1:</strong> This command adds +1 score every tick to the score holder <code>.Timer</code> indicating a tick has passed in the game. This is basically our scoreboard timer/clock which we will use for all the repeating events on our world.</p><p><strong>Command 2:</strong> Here, we copy &#39;.Timer&#39; score to all our events using the <code>*</code> wildcard selector. This will allow us to perform operations to determine if the interval has been reached to run the commands for that particular event. Example:</p><ul><li>If <code>.Timer</code> score is 1200, it means 1200 game-ticks have passed.</li><li>This command makes it so all our events score holders (<code>.ChatMessage</code>, <code>.LagClear</code>, <code>.SpeedEffect</code>) scores are also 1200.</li></ul><p><strong>Command 3:</strong> We will use the <code>%=</code> modulo operation to check if our event scores are divisible by their assigned interval. i.e., if the remainder is equal to 0.</p><ul><li>Chat Message: <code>1200/144000</code><ul><li>Q=0, R=1200 — <em>interval not reached.</em></li></ul></li><li>Lag Clear: <code>1200/12000</code><ul><li>Q=0, R=1200 — <em>interval not reached.</em></li></ul></li><li>Speed Effect: <code>1200/600</code><ul><li>Q=2, R=0 — <em>interval reached.</em></li><li>Hence, commands for the <code>.SpeedEffect</code> event can be executed.</li></ul></li></ul><p>Here, we can note that the <code>.ChatMessage</code> and <code>.LagClear</code> events are yet to happen, but the <code>.SpeedEffect</code> event is happening for the second time.</p><p>Note: In Minecraft, scoreboard division is floored, i.e., it&#39;s only calculated up to whole numbers and decimal values are ignored.</p><p><strong>Command 4:</strong> the remainder obtained from the calculation is applied to the corresponding event&#39;s score holder. Based on this knowledge, we can run our commands if it&#39;s score is equal to <code>0</code>.</p><p>The remaining commands follow the same structure, with only the event labels and interval durations modified.</p><h2 id="defining-events-with-limited-occurances" tabindex="-1">Defining Events with Limited Occurances <a class="header-anchor" href="#defining-events-with-limited-occurances" aria-label="Permalink to &quot;Defining Events with Limited Occurances&quot;">​</a></h2><p>To limit how many times an event occurs, you need to create a new objective called <code>wiki:occurances</code> and define how many times that event should occur, as shown below.</p>',22)),n(a),e[7]||(e[7]=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/scoreboard objectives add wiki:occurances dummy</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/scoreboard players set .ChatMessage wiki:occurances 5</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/scoreboard players set .SpeedEffect wiki:occurances 10</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Once you have done that, modify your system as shown below.</p>`,2)),n(a,null,{default:i(()=>e[1]||(e[1]=[t("BP/functions/wiki/scoreboard/world_timer.mcfunction")])),_:1}),e[8]||(e[8]=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## World Timer/Clock</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### Increment +1 tick</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players add .Timer wiki:ticks 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">### Apply current time to all events</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation * wiki:events = .Timer wiki:ticks</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Chat Message (every 10m)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation .ChatMessage wiki:events %= .2h wiki:ticks</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .ChatMessage wiki:events matches 0 if score .ChatMessage wiki:occurances matches 1.. run say Technoblade never dies!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .ChatMessage wiki:events matches 0 if score .ChatMessage wiki:occurances matches 1.. run scoreboard players remove .ChatMessage wiki:occurances 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Speed Effect (every 30s)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation .SpeedEffect wiki:events %= .30s wiki:ticks</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .SpeedEffect wiki:events matches 0 if score .SpeedEffect wiki:occurances matches 1.. run effect @a speed 10 2 true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .SpeedEffect wiki:events matches 0 if score .SpeedEffect wiki:occurances matches 1.. run scoreboard players remove .SpeedEffect wiki:occurances 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><img src="`+l+'" alt="Chain of 8 Command Blocks"></p><h2 id="executing-commands-during-intervals" tabindex="-1">Executing Commands During Intervals <a class="header-anchor" href="#executing-commands-during-intervals" aria-label="Permalink to &quot;Executing Commands During Intervals&quot;">​</a></h2><p>To run commands continuously between the intervals of an event, you may use the technique shown below.</p>',4)),n(a),e[9]||(e[9]=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Speed Effect (every 30s) + Particle (every tick)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players operation .SpeedEffect wiki:events %= .30s wiki:ticks</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .SpeedEffect wiki:occurances matches 1.. as @a at @s run particle minecraft:shulker_bullet ~~~</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .SpeedEffect wiki:events matches 0 if score .SpeedEffect wiki:occurances matches 1.. run effect @a speed 10 2 true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute if score .SpeedEffect wiki:events matches 0 if score .SpeedEffect wiki:occurances matches 1.. run scoreboard players remove .SpeedEffect wiki:occurances 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>As shown in line 3, to run commands while the timer is running, all you need to do is remove the <code>if score</code> condition testing if all occurances took place. And instead, only test if any occurance remains, to run our commands.</p><p>Let&#39;s say we had set the <code>wiki:occurances</code> for this event to <code>10</code>. Then players would&#39;ve also had a particle trail for 300 seconds as repeating a 30s event 10 times will total 300 seconds.</p><h2 id="entity-timers" tabindex="-1">Entity Timers <a class="header-anchor" href="#entity-timers" aria-label="Permalink to &quot;Entity Timers&quot;">​</a></h2><p>In some cases, such as an entity despawn event, you will need to run timers for each entity separately rather than a synchronised timer which could cause the event to trigger too soon. In such cases, an Async Timer can be helpful.</p><p>Let&#39;s say we want to perform the following actions:</p><ol><li>kill all entities named &quot;wiki:station&quot; 5 minutes after they&#39;ve been summoned.</li><li>play a shulker particle around them during that timeframe.</li><li>play a flame particle around them in the first 10 seconds.</li><li>play a pling sound to nearby players when the timer reaches half way.</li><li>stop the timer if a passive mob is nearby.</li><li>loop the timer if a hostile mob is nearby.</li></ol>`,7)),n(a,null,{default:i(()=>e[2]||(e[2]=[t("BP/functions/wiki/scoreboard/players/entity_timer.mcfunction")])),_:1}),e[10]||(e[10]=s(`<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Running the Timer</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scoreboard players add @e[name=&quot;wiki:station&quot;,scores={wiki:ticks=0..}] wiki:ticks 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Executing Commands While Timer Is Running</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @e[name=&quot;wiki:station&quot;,scores={wiki:ticks=0..}] at @s run particle minecraft:shulker_bullet ~~~</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Executing Commands Within a Timeframe</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @e[name=&quot;wiki:station&quot;,scores={wiki:ticks=0..200}] at @s run particle minecraft:basic_flame_particle ~~~</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Executing Commands at Precise Intervals</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @e[name=&quot;wiki:station&quot;,scores={wiki:ticks=3600}] at @s run playsound note.pling @a[r=10]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Stopping the Timer</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @e[name=&quot;wiki:station&quot;] at @s if entity @e[family=pacified,r=10,c=1] run scoreboard players set @s ticks -1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Looping the Timer</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">execute as @e[name=&quot;wiki:station&quot;,scores={wiki:ticks=6000}] at @s if entity @e[family=monster,r=10,c=1] run scoreboard players set @s ticks 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># End of Timer</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kill @e[name=&quot;wiki:station&quot;,scores={wiki:ticks=6000}]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="`+r+'" alt="Chain of 7 Command Blocks"></p><p>As shown, setting the score to <code>0</code> when it completes the timeframe will loop the timer. And setting the score to <code>-1</code> will stop/disable it. You can still set the score to <code>0</code> to start the timer again.</p>',3))])}const _=o(h,[["render",m]]);export{C as __pageData,_ as default};
